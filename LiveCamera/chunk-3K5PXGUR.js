import{$ as R,C as ie,E as ae,L as ce,S as le,V as O,W as A,Z as w,aa as P,ba as he,da as de,e as Y,ea as ue,f as $e,j as se,ma as fe,q as oe,r as Z,v as U}from"./chunk-4EPRTBY7.js";var ge=Y((St,ye)=>{"use strict";ye.exports=function(e,t){if(t=t.split(":")[0],e=+e,!e)return!1;switch(t){case"http":case"ws":return e!==80;case"https":case"wss":return e!==443;case"ftp":return e!==21;case"gopher":return e!==70;case"file":return!1}return e!==0}});var Ee=Y(H=>{"use strict";var Ye=Object.prototype.hasOwnProperty,Ze;function we(r){try{return decodeURIComponent(r.replace(/\+/g," "))}catch{return null}}function Te(r){try{return encodeURIComponent(r)}catch{return null}}function Qe(r){for(var e=/([^=?#&]+)=?([^&]*)/g,t={},n;n=e.exec(r);){var s=we(n[1]),o=we(n[2]);s===null||o===null||s in t||(t[s]=o)}return t}function He(r,e){e=e||"";var t=[],n,s;typeof e!="string"&&(e="?");for(s in r)if(Ye.call(r,s)){if(n=r[s],!n&&(n===null||n===Ze||isNaN(n))&&(n=""),s=Te(s),n=Te(n),s===null||n===null)continue;t.push(s+"="+n)}return t.length?e+t.join("&"):""}H.stringify=He;H.parse=Qe});var Ae=Y((zt,Oe)=>{"use strict";var ve=ge(),z=Ee(),et=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,be=/[\n\r\t]/g,tt=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,Pe=/:\d+$/,rt=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,nt=/^[a-zA-Z]:/;function te(r){return(r||"").toString().replace(et,"")}var ee=[["#","hash"],["?","query"],function(e,t){return T(t.protocol)?e.replace(/\\/g,"/"):e},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],Re={hash:1,query:1};function Ie(r){var e;typeof window<"u"?e=window:typeof global<"u"?e=global:typeof self<"u"?e=self:e={};var t=e.location||{};r=r||t;var n={},s=typeof r,o;if(r.protocol==="blob:")n=new E(unescape(r.pathname),{});else if(s==="string"){n=new E(r,{});for(o in Re)delete n[o]}else if(s==="object"){for(o in r)o in Re||(n[o]=r[o]);n.slashes===void 0&&(n.slashes=tt.test(r.href))}return n}function T(r){return r==="file:"||r==="ftp:"||r==="http:"||r==="https:"||r==="ws:"||r==="wss:"}function Ne(r,e){r=te(r),r=r.replace(be,""),e=e||{};var t=rt.exec(r),n=t[1]?t[1].toLowerCase():"",s=!!t[2],o=!!t[3],i=0,c;return s?o?(c=t[2]+t[3]+t[4],i=t[2].length+t[3].length):(c=t[2]+t[4],i=t[2].length):o?(c=t[3]+t[4],i=t[3].length):c=t[4],n==="file:"?i>=2&&(c=c.slice(2)):T(n)?c=t[4]:n?s&&(c=c.slice(2)):i>=2&&T(e.protocol)&&(c=t[4]),{protocol:n,slashes:s||T(n),slashesCount:i,rest:c}}function st(r,e){if(r==="")return e;for(var t=(e||"/").split("/").slice(0,-1).concat(r.split("/")),n=t.length,s=t[n-1],o=!1,i=0;n--;)t[n]==="."?t.splice(n,1):t[n]===".."?(t.splice(n,1),i++):i&&(n===0&&(o=!0),t.splice(n,1),i--);return o&&t.unshift(""),(s==="."||s==="..")&&t.push(""),t.join("/")}function E(r,e,t){if(r=te(r),r=r.replace(be,""),!(this instanceof E))return new E(r,e,t);var n,s,o,i,c,l,d=ee.slice(),u=typeof e,a=this,m=0;for(u!=="object"&&u!=="string"&&(t=e,e=null),t&&typeof t!="function"&&(t=z.parse),e=Ie(e),s=Ne(r||"",e),n=!s.protocol&&!s.slashes,a.slashes=s.slashes||n&&e.slashes,a.protocol=s.protocol||e.protocol||"",r=s.rest,(s.protocol==="file:"&&(s.slashesCount!==2||nt.test(r))||!s.slashes&&(s.protocol||s.slashesCount<2||!T(a.protocol)))&&(d[3]=[/(.*)/,"pathname"]);m<d.length;m++){if(i=d[m],typeof i=="function"){r=i(r,a);continue}o=i[0],l=i[1],o!==o?a[l]=r:typeof o=="string"?(c=o==="@"?r.lastIndexOf(o):r.indexOf(o),~c&&(typeof i[2]=="number"?(a[l]=r.slice(0,c),r=r.slice(c+i[2])):(a[l]=r.slice(c),r=r.slice(0,c)))):(c=o.exec(r))&&(a[l]=c[1],r=r.slice(0,c.index)),a[l]=a[l]||n&&i[3]&&e[l]||"",i[4]&&(a[l]=a[l].toLowerCase())}t&&(a.query=t(a.query)),n&&e.slashes&&a.pathname.charAt(0)!=="/"&&(a.pathname!==""||e.pathname!=="")&&(a.pathname=st(a.pathname,e.pathname)),a.pathname.charAt(0)!=="/"&&T(a.protocol)&&(a.pathname="/"+a.pathname),ve(a.port,a.protocol)||(a.host=a.hostname,a.port=""),a.username=a.password="",a.auth&&(c=a.auth.indexOf(":"),~c?(a.username=a.auth.slice(0,c),a.username=encodeURIComponent(decodeURIComponent(a.username)),a.password=a.auth.slice(c+1),a.password=encodeURIComponent(decodeURIComponent(a.password))):a.username=encodeURIComponent(decodeURIComponent(a.auth)),a.auth=a.password?a.username+":"+a.password:a.username),a.origin=a.protocol!=="file:"&&T(a.protocol)&&a.host?a.protocol+"//"+a.host:"null",a.href=a.toString()}function ot(r,e,t){var n=this;switch(r){case"query":typeof e=="string"&&e.length&&(e=(t||z.parse)(e)),n[r]=e;break;case"port":n[r]=e,ve(e,n.protocol)?e&&(n.host=n.hostname+":"+e):(n.host=n.hostname,n[r]="");break;case"hostname":n[r]=e,n.port&&(e+=":"+n.port),n.host=e;break;case"host":n[r]=e,Pe.test(e)?(e=e.split(":"),n.port=e.pop(),n.hostname=e.join(":")):(n.hostname=e,n.port="");break;case"protocol":n.protocol=e.toLowerCase(),n.slashes=!t;break;case"pathname":case"hash":if(e){var s=r==="pathname"?"/":"#";n[r]=e.charAt(0)!==s?s+e:e}else n[r]=e;break;case"username":case"password":n[r]=encodeURIComponent(e);break;case"auth":var o=e.indexOf(":");~o?(n.username=e.slice(0,o),n.username=encodeURIComponent(decodeURIComponent(n.username)),n.password=e.slice(o+1),n.password=encodeURIComponent(decodeURIComponent(n.password))):n.username=encodeURIComponent(decodeURIComponent(e))}for(var i=0;i<ee.length;i++){var c=ee[i];c[4]&&(n[c[1]]=n[c[1]].toLowerCase())}return n.auth=n.password?n.username+":"+n.password:n.username,n.origin=n.protocol!=="file:"&&T(n.protocol)&&n.host?n.protocol+"//"+n.host:"null",n.href=n.toString(),n}function it(r){(!r||typeof r!="function")&&(r=z.stringify);var e,t=this,n=t.host,s=t.protocol;s&&s.charAt(s.length-1)!==":"&&(s+=":");var o=s+(t.protocol&&t.slashes||T(t.protocol)?"//":"");return t.username?(o+=t.username,t.password&&(o+=":"+t.password),o+="@"):t.password?(o+=":"+t.password,o+="@"):t.protocol!=="file:"&&T(t.protocol)&&!n&&t.pathname!=="/"&&(o+="@"),(n[n.length-1]===":"||Pe.test(t.hostname)&&!t.port)&&(n+=":"),o+=n+t.pathname,e=typeof t.query=="object"?r(t.query):t.query,e&&(o+=e.charAt(0)!=="?"?"?"+e:e),t.hash&&(o+=t.hash),o}E.prototype={set:ot,toString:it};E.extractProtocol=Ne;E.location=Ie;E.trimLeft=te;E.qs=z;Oe.exports=E});function Xe(r,e,t,n){function s(o){return o instanceof t?o:new t(function(i){i(o)})}return new(t||(t=Promise))(function(o,i){function c(u){try{d(n.next(u))}catch(a){i(a)}}function l(u){try{d(n.throw(u))}catch(a){i(a)}}function d(u){u.done?o(u.value):s(u.value).then(c,l)}d((n=n.apply(r,e||[])).next())})}function Ge(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Ke=function r(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,s,o;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(s=n;s--!==0;)if(!r(e[s],t[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(s=n;s--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[s]))return!1;for(s=n;s--!==0;){var i=o[s];if(!r(e[i],t[i]))return!1}return!0}return e!==e&&t!==t},We=Ge(Ke),pe="__googleMapsScriptId",L=function(r){return r[r.INITIALIZED=0]="INITIALIZED",r[r.LOADING=1]="LOADING",r[r.SUCCESS=2]="SUCCESS",r[r.FAILURE=3]="FAILURE",r}(L||{}),me=class r{constructor({apiKey:e,authReferrerPolicy:t,channel:n,client:s,id:o=pe,language:i,libraries:c=[],mapIds:l,nonce:d,region:u,retries:a=3,url:m="https://maps.googleapis.com/maps/api/js",version:y}){if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=e,this.authReferrerPolicy=t,this.channel=n,this.client=s,this.id=o||pe,this.language=i,this.libraries=c,this.mapIds=l,this.nonce=d,this.region=u,this.retries=a,this.url=m,this.version=y,r.instance){if(!We(this.options,r.instance.options))throw new Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(r.instance.options)}`);return r.instance}r.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?L.FAILURE:this.done?L.SUCCESS:this.loading?L.LOADING:L.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){let e=this.url;return e+="?callback=__googleMapsCallback&loading=async",this.apiKey&&(e+=`&key=${this.apiKey}`),this.channel&&(e+=`&channel=${this.channel}`),this.client&&(e+=`&client=${this.client}`),this.libraries.length>0&&(e+=`&libraries=${this.libraries.join(",")}`),this.language&&(e+=`&language=${this.language}`),this.region&&(e+=`&region=${this.region}`),this.version&&(e+=`&v=${this.version}`),this.mapIds&&(e+=`&map_ids=${this.mapIds.join(",")}`),this.authReferrerPolicy&&(e+=`&auth_referrer_policy=${this.authReferrerPolicy}`),e}deleteScript(){let e=document.getElementById(this.id);e&&e.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((e,t)=>{this.loadCallback(n=>{n?t(n.error):e(window.google)})})}importLibrary(e){return this.execute(),google.maps.importLibrary(e)}loadCallback(e){this.callbacks.push(e),this.execute()}setScript(){var e,t;if(document.getElementById(this.id)){this.callback();return}let n={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(n).forEach(o=>!n[o]&&delete n[o]),!((t=(e=window?.google)===null||e===void 0?void 0:e.maps)===null||t===void 0)&&t.importLibrary||(o=>{let i,c,l,d="The Google Maps JavaScript API",u="google",a="importLibrary",m="__ib__",y=document,b=window;b=b[u]||(b[u]={});let h=b.maps||(b.maps={}),f=new Set,g=new URLSearchParams,B=()=>i||(i=new Promise((p,N)=>Xe(this,void 0,void 0,function*(){var _;yield c=y.createElement("script"),c.id=this.id,g.set("libraries",[...f]+"");for(l in o)g.set(l.replace(/[A-Z]/g,W=>"_"+W[0].toLowerCase()),o[l]);g.set("callback",u+".maps."+m),c.src=this.url+"?"+g,h[m]=p,c.onerror=()=>i=N(Error(d+" could not load.")),c.nonce=this.nonce||((_=y.querySelector("script[nonce]"))===null||_===void 0?void 0:_.nonce)||"",y.head.append(c)})));h[a]?console.warn(d+" only loads once. Ignoring:",o):h[a]=(p,...N)=>f.add(p)&&B().then(()=>h[a](p,...N))})(n);let s=this.libraries.map(o=>this.importLibrary(o));s.length||s.push(this.importLibrary("core")),Promise.all(s).then(()=>this.callback(),o=>{let i=new ErrorEvent("error",{error:o});this.loadErrorCallback(i)})}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(e){if(this.errors.push(e),this.errors.length<=this.retries){let t=this.errors.length*Math.pow(2,this.errors.length);console.error(`Failed to load Google Maps script, retrying in ${t} ms.`),setTimeout(()=>{this.deleteScript(),this.setScript()},t)}else this.onerrorEvent=e,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(e=>{e(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),!this.loading)if(this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version){console.warn("Google Maps already loaded outside @googlemaps/js-api-loader. This may result in undesirable behavior as options and script parameters may not match."),this.callback();return}this.loading=!0,this.setScript()}}};var Ut={production:!0,appName:"Live Camera Map",VERSION:"0.0.35",googleMapApiKey:"AIzaSyDv6JbalvfY3TwSUGqRwIRCbXrz8EADLnw",GA_CODE:"G-4GS7H1E5RD",adsenseConfig:{adClient:"ca-pub-8552692955110453",adSlot:"6560124636",adFormat:"auto",fullWidthResponsive:!0,display:"block"},MapDefaultLocation:{lat:36.251668,lng:136.64092},ThreadParallelMax:5,DataLocationPrefix:"https://mhayashi1120.net/var/PublicLiveCamera/",DataVersionRange:"0.5.1",ThumbVersionRange:"0.5.0"};function Q(...r){}function Lt(...r){}function Ft(...r){}function jt(...r){console.error(...r)}var Ve=$e(Ae());function Me(r,e){e=encodeURIComponent(e);for(let t of r.split(";")){let n=t.indexOf("="),[s,o]=n==-1?[t,""]:[t.slice(0,n),t.slice(n+1)];if(s.trim()===e)return decodeURIComponent(o)}return null}var at="browser",ct="server";function qt(r){return r===at}function Jt(r){return r===ct}var q=class{};var ke=new w("");var D=class{},F=class{},I=class r{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let n=t.indexOf(":");if(n>0){let s=t.slice(0,n),o=t.slice(n+1).trim();this.addHeaderEntry(s,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,n)=>{this.addHeaderEntry(n,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,n])=>{this.setHeaderEntries(t,n)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof r?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new r;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof r?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let n=e.value;if(typeof n=="string"&&(n=[n]),n.length===0)return;this.maybeSetNormalizedName(e.name,t);let s=(e.op==="a"?this.headers.get(t):void 0)||[];s.push(...n),this.headers.set(t,s);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let i=this.headers.get(t);if(!i)return;i=i.filter(c=>o.indexOf(c)===-1),i.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,i)}break}}addHeaderEntry(e,t){let n=e.toLowerCase();this.maybeSetNormalizedName(e,n),this.headers.has(n)?this.headers.get(n).push(t):this.headers.set(n,[t])}setHeaderEntries(e,t){let n=(Array.isArray(t)?t:[t]).map(o=>o.toString()),s=e.toLowerCase();this.headers.set(s,n),this.maybeSetNormalizedName(e,s)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var V=class{encodeKey(e){return De(e)}encodeValue(e){return De(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function dt(r,e){let t=new Map;return r.length>0&&r.replace(/^\?/,"").split("&").forEach(s=>{let o=s.indexOf("="),[i,c]=o==-1?[e.decodeKey(s),""]:[e.decodeKey(s.slice(0,o)),e.decodeValue(s.slice(o+1))],l=t.get(i)||[];l.push(c),t.set(i,l)}),t}var ut=/%(\d[a-f0-9])/gi,ft={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function De(r){return encodeURIComponent(r).replace(ut,(e,t)=>ft[t]??e)}function J(r){return`${r}`}var v=class r{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new V,e.fromString){if(e.fromObject)throw new O(2805,!1);this.map=dt(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let n=e.fromObject[t],s=Array.isArray(n)?n.map(J):[J(n)];this.map.set(t,s)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(n=>{let s=e[n];Array.isArray(s)?s.forEach(o=>{t.push({param:n,value:o,op:"a"})}):t.push({param:n,value:s,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(n=>t+"="+this.encoder.encodeValue(n)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new r({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(J(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let n=this.map.get(e.param)||[],s=n.indexOf(J(e.value));s!==-1&&n.splice(s,1),n.length>0?this.map.set(e.param,n):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var $=class{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function pt(r){switch(r){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function xe(r){return typeof ArrayBuffer<"u"&&r instanceof ArrayBuffer}function _e(r){return typeof Blob<"u"&&r instanceof Blob}function Ue(r){return typeof FormData<"u"&&r instanceof FormData}function mt(r){return typeof URLSearchParams<"u"&&r instanceof URLSearchParams}var Le="Content-Type",Fe="Accept",je="X-Request-URL",Ce="text/plain",Se="application/json",yt=`${Se}, ${Ce}, */*`,k=class r{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(e,t,n,s){this.url=t,this.method=e.toUpperCase();let o;if(pt(this.method)||s?(this.body=n!==void 0?n:null,o=s):o=n,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new I,this.context??=new $,!this.params)this.params=new v,this.urlWithParams=t;else{let i=this.params.toString();if(i.length===0)this.urlWithParams=t;else{let c=t.indexOf("?"),l=c===-1?"?":c<t.length-1?"&":"";this.urlWithParams=t+l+i}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||xe(this.body)||_e(this.body)||Ue(this.body)||mt(this.body)?this.body:this.body instanceof v?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Ue(this.body)?null:_e(this.body)?this.body.type||null:xe(this.body)?null:typeof this.body=="string"?Ce:this.body instanceof v?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?Se:null}clone(e={}){let t=e.method||this.method,n=e.url||this.url,s=e.responseType||this.responseType,o=e.transferCache??this.transferCache,i=e.body!==void 0?e.body:this.body,c=e.withCredentials??this.withCredentials,l=e.reportProgress??this.reportProgress,d=e.headers||this.headers,u=e.params||this.params,a=e.context??this.context;return e.setHeaders!==void 0&&(d=Object.keys(e.setHeaders).reduce((m,y)=>m.set(y,e.setHeaders[y]),d)),e.setParams&&(u=Object.keys(e.setParams).reduce((m,y)=>m.set(y,e.setParams[y]),u)),new r(t,n,i,{params:u,headers:d,context:a,reportProgress:l,responseType:s,withCredentials:c,transferCache:o})}},M=function(r){return r[r.Sent=0]="Sent",r[r.UploadProgress=1]="UploadProgress",r[r.ResponseHeader=2]="ResponseHeader",r[r.DownloadProgress=3]="DownloadProgress",r[r.Response=4]="Response",r[r.User=5]="User",r}(M||{}),x=class{headers;status;statusText;url;ok;type;constructor(e,t=200,n="OK"){this.headers=e.headers||new I,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},X=class r extends x{constructor(e={}){super(e)}type=M.ResponseHeader;clone(e={}){return new r({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},j=class r extends x{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=M.Response;clone(e={}){return new r({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},C=class extends x{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},gt=200,wt=204;function re(r,e){return{body:e,headers:r.headers,context:r.context,observe:r.observe,params:r.params,reportProgress:r.reportProgress,responseType:r.responseType,withCredentials:r.withCredentials,transferCache:r.transferCache}}var K=(()=>{class r{handler;constructor(t){this.handler=t}request(t,n,s={}){let o;if(t instanceof k)o=t;else{let l;s.headers instanceof I?l=s.headers:l=new I(s.headers);let d;s.params&&(s.params instanceof v?d=s.params:d=new v({fromObject:s.params})),o=new k(t,n,s.body!==void 0?s.body:null,{headers:l,context:s.context,params:d,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}let i=Z(o).pipe(ae(l=>this.handler.handle(l)));if(t instanceof k||s.observe==="events")return i;let c=i.pipe(ie(l=>l instanceof j));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return c.pipe(U(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new O(2806,!1);return l.body}));case"blob":return c.pipe(U(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new O(2807,!1);return l.body}));case"text":return c.pipe(U(l=>{if(l.body!==null&&typeof l.body!="string")throw new O(2808,!1);return l.body}));case"json":default:return c.pipe(U(l=>l.body))}case"response":return c;default:throw new O(2809,!1)}}delete(t,n={}){return this.request("DELETE",t,n)}get(t,n={}){return this.request("GET",t,n)}head(t,n={}){return this.request("HEAD",t,n)}jsonp(t,n){return this.request("JSONP",t,{params:new v().append(n,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,n={}){return this.request("OPTIONS",t,n)}patch(t,n,s={}){return this.request("PATCH",t,re(s,n))}post(t,n,s={}){return this.request("POST",t,re(s,n))}put(t,n,s={}){return this.request("PUT",t,re(s,n))}static \u0275fac=function(n){return new(n||r)(R(D))};static \u0275prov=A({token:r,factory:r.\u0275fac})}return r})();var Tt=new w("");function Et(r,e){return e(r)}function Rt(r,e,t){return(n,s)=>ue(t,()=>e(n,o=>r(o,s)))}var Be=new w(""),ze=new w(""),qe=new w("",{providedIn:"root",factory:()=>!0});var G=(()=>{class r extends D{backend;injector;chain=null;pendingTasks=P(fe);contributeToStability=P(qe);constructor(t,n){super(),this.backend=t,this.injector=n}handle(t){if(this.chain===null){let n=Array.from(new Set([...this.injector.get(Be),...this.injector.get(ze,[])]));this.chain=n.reduceRight((s,o)=>Rt(s,o,this.injector),Et)}if(this.contributeToStability){let n=this.pendingTasks.add();return this.chain(t,s=>this.backend.handle(s)).pipe(ce(()=>this.pendingTasks.remove(n)))}else return this.chain(t,n=>this.backend.handle(n))}static \u0275fac=function(n){return new(n||r)(R(F),R(de))};static \u0275prov=A({token:r,factory:r.\u0275fac})}return r})();var vt=/^\)\]\}',?\n/,bt=RegExp(`^${je}:`,"m");function Pt(r){return"responseURL"in r&&r.responseURL?r.responseURL:bt.test(r.getAllResponseHeaders())?r.getResponseHeader(je):null}var ne=(()=>{class r{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new O(-2800,!1);let n=this.xhrFactory;return(n.\u0275loadImpl?oe(n.\u0275loadImpl()):Z(null)).pipe(le(()=>new se(o=>{let i=n.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((h,f)=>i.setRequestHeader(h,f.join(","))),t.headers.has(Fe)||i.setRequestHeader(Fe,yt),!t.headers.has(Le)){let h=t.detectContentTypeHeader();h!==null&&i.setRequestHeader(Le,h)}if(t.responseType){let h=t.responseType.toLowerCase();i.responseType=h!=="json"?h:"text"}let c=t.serializeBody(),l=null,d=()=>{if(l!==null)return l;let h=i.statusText||"OK",f=new I(i.getAllResponseHeaders()),g=Pt(i)||t.url;return l=new X({headers:f,status:i.status,statusText:h,url:g}),l},u=()=>{let{headers:h,status:f,statusText:g,url:B}=d(),p=null;f!==wt&&(p=typeof i.response>"u"?i.responseText:i.response),f===0&&(f=p?gt:0);let N=f>=200&&f<300;if(t.responseType==="json"&&typeof p=="string"){let _=p;p=p.replace(vt,"");try{p=p!==""?JSON.parse(p):null}catch(W){p=_,N&&(N=!1,p={error:W,text:p})}}N?(o.next(new j({body:p,headers:h,status:f,statusText:g,url:B||void 0})),o.complete()):o.error(new C({error:p,headers:h,status:f,statusText:g,url:B||void 0}))},a=h=>{let{url:f}=d(),g=new C({error:h,status:i.status||0,statusText:i.statusText||"Unknown Error",url:f||void 0});o.error(g)},m=!1,y=h=>{m||(o.next(d()),m=!0);let f={type:M.DownloadProgress,loaded:h.loaded};h.lengthComputable&&(f.total=h.total),t.responseType==="text"&&i.responseText&&(f.partialText=i.responseText),o.next(f)},b=h=>{let f={type:M.UploadProgress,loaded:h.loaded};h.lengthComputable&&(f.total=h.total),o.next(f)};return i.addEventListener("load",u),i.addEventListener("error",a),i.addEventListener("timeout",a),i.addEventListener("abort",a),t.reportProgress&&(i.addEventListener("progress",y),c!==null&&i.upload&&i.upload.addEventListener("progress",b)),i.send(c),o.next({type:M.Sent}),()=>{i.removeEventListener("error",a),i.removeEventListener("abort",a),i.removeEventListener("load",u),i.removeEventListener("timeout",a),t.reportProgress&&(i.removeEventListener("progress",y),c!==null&&i.upload&&i.upload.removeEventListener("progress",b)),i.readyState!==i.DONE&&i.abort()}})))}static \u0275fac=function(n){return new(n||r)(R(q))};static \u0275prov=A({token:r,factory:r.\u0275fac})}return r})(),Je=new w(""),It="XSRF-TOKEN",Nt=new w("",{providedIn:"root",factory:()=>It}),Ot="X-XSRF-TOKEN",At=new w("",{providedIn:"root",factory:()=>Ot}),S=class{},Mt=(()=>{class r{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,n){this.doc=t,this.cookieName=n}getToken(){let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Me(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(n){return new(n||r)(R(ke),R(Nt))};static \u0275prov=A({token:r,factory:r.\u0275fac})}return r})();function kt(r,e){let t=r.url.toLowerCase();if(!P(Je)||r.method==="GET"||r.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(r);let n=P(S).getToken(),s=P(At);return n!=null&&!r.headers.has(s)&&(r=r.clone({headers:r.headers.set(s,n)})),e(r)}function Dt(...r){let e=[K,ne,G,{provide:D,useExisting:G},{provide:F,useFactory:()=>P(Tt,{optional:!0})??P(ne)},{provide:Be,useValue:kt,multi:!0},{provide:Je,useValue:!0},{provide:S,useClass:Mt}];for(let t of r)e.push(...t.\u0275providers);return he(e)}var Ur=(()=>{class r{constructor(t){this.http=t}makeNonce(t=3){let n="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890",s="";for(let o=0;o<t;o++)s+=n.charAt(Math.floor(Math.random()*n.length));return s}fetchJson(t){return Q(`HttpService: Fetch data from ${t}`),this.http.get(t)}fetchGHJson(t){Q(`HttpService: Fetch data from ${t}`);let n=this.makeUncacheUrl(t);return this.fetchJson(n)}makeUncacheUrl(t){let n=new Ve.default(t,!0),s=this.makeNonce();return n.query.n=s,n.toString()}static{this.\u0275fac=function(n){return new(n||r)(R(K))}}static{this.\u0275prov=A({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();export{ke as a,Me as b,at as c,qt as d,Jt as e,q as f,Dt as g,me as h,Ut as i,Q as j,Lt as k,Ft as l,jt as m,Ur as n};
